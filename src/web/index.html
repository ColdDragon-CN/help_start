<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Help Start</title>
    <script>
        // 获取浏览器的长度
        const x = (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth);

        // 获取浏览器的宽度
        const y = (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight);

        // 对CSS公开变量
        document.documentElement.style.setProperty('--windowWidth', x + 'px');
        document.documentElement.style.setProperty('--windowHeight', y + 'px');
    </script>
    <link rel="stylesheet" href="style.css">
    <script src="./index.js"></script>
</head>

<body>
    <div id="full">
        <!-- 标题的容器 -->
        <div class="title">

            <!-- 选择地图的容器 -->
            <div class="subTitle    ">
                <button class="chose" id="DeadEnd">Dead End</button>
                <button class="chose" id='BadBlood'>Bad Blood</button>
                <button class="chose" id="AlienArcadium">Alien Arcadium</button>
            </div>

            <!-- 选择难度的容器 -->
            <div class="subTitle" id="difficulty">
                <button class="chose" id="normal">Normal</button>
                <button class="chose" id="hard">Hard</button>
                <button class="chose" id="rip">Rip</button>
            </div>

            <!-- 网络请求的容器 -->
            <div class="subTitle">
                <button class="network_button" id='send'>Send</button>
                <button class="network_button" id="update">Update info</button>
            </div>

            <!-- 玩家输入框的容器 -->
            <div class="player_div">
                <input class="player" type="text" id="player1"
                    placeholder="#player 1 #you can use space input all player on 1 line">
                <input class="player" type="text" id="player2" placeholder="#player 2">
                <input class="player" type="text" id="player3" placeholder="#player 3">
            </div>

        </div> <!--Title-->
        <h3 class="whiteText">voluntary choose spawn chest ↓</h3>

        <!-- Dead End箱子选择 -->
        <div class="chest" id="de_chest">
            <button class="chose" id="office">Office</button>
            <button class="chose" id="hotel">Hotel</button>
            <button class="chose" id="apartments">Apartments</button>
            <button class="chose" id="power_station">Power Station</button>
            <button class="chose" id="gallery">Gallery</button>
        </div>

        <!-- Bad Blood箱子选择 -->
        <div class="chest" id="bb_chest">
            <button class="chose" id="mansion">Mansion</button>
            <button class="chose" id="library">Library</button>
            <button class="chose" id="dungeon">Dungeon</button>
            <button class="chose" id="balcony">Balcony</button>
            <button class="chose" id="crypts">Crypts</button>
        </div>

        <!-- Alien Arcadium箱子选择...就一个选项 -->
        <div class="chest" id="aa_chest"><button class="choseRC">Roller Coaster</button></div>

        <!-- bot的状态 -->
        <div class="title">

            <!-- bot的简单说明 -->
            <div class="bot_info">
                <h3 class="bot_line" id="bot1">bot#1</h3>
                <h3 class="bot_line" id="bot2">bot#2</h3>
                <h3 class="bot_line" id='bot3'>bot#3</h3>
            </div>

            <!-- bot的使用情况 -->
            <div class="subTitle" id="info"></div>
        </div> <!--bot的状态-->>
    </div> <!--Full-->
    <script>

        // #### ↓ #### 请求发送帮开 #### ↓ #### 
        const send = document.getElementById('send');
        send.onclick = function () {

            send.style.color = '#FFFFFF';

            const player1 = document.getElementById('player1').value;
            const player2 = document.getElementById('player2').value;
            const player3 = document.getElementById('player3').value;

            const this_chest = map === 'de' ? de_chest : map === 'bb' ? bb_chest : 'rc';

            const data = {
                map: map,
                difficulty: theDifficulty,
                players: [player1, player2, player3],
                chest: this_chest,
            }

            sendHelpStart(data, function (result) {
                send.style.removeProperty('color');
                alert(result)
            })

        }
        // #### ↑ #### 请求发送帮开 #### ↑ #### 


        // #### ↓ #### 请求更新内容 #### ↓ #### 
        const bot1Element = document.getElementById('bot1');
        const bot2Element = document.getElementById('bot2');
        const bot3Element = document.getElementById('bot3');
        const infoElement = document.getElementById('info');
        const botElementList = [bot1Element,bot2Element,bot3Element];
        spawnInfo(botElementList,infoElement);

        const update = document.getElementById('update');
        update.onclick = () => { spawnInfo(botElementList,infoElement) }
        // #### ↑ #### 请求更新内容 #### ↑ #### 

        // #### ↓ #### 穷途箱子选择按钮组 #### ↓ #### 
        let de_chest = null;
        const office = document.getElementById('office');
        const hotel = document.getElementById('hotel');
        const apartments = document.getElementById('apartments');
        const powerStation = document.getElementById('power_station');
        const gallery = document.getElementById('gallery');
        const deChestButton = [office, hotel, apartments, powerStation, gallery];
        const deChest = ['office', 'hotel', 'apartments', 'powerStation', 'gallery'];

        office.onclick = () => { changeChestFD('office', 0) }
        hotel.onclick = () => { changeChestFD('hotel', 1) }
        apartments.onclick = () => { changeChestFD('apartments', 2) }
        powerStation.onclick = () => { changeChestFD('powerStation', 3) }
        gallery.onclick = () => { changeChestFD('gallery', 4) }

        office.addEventListener('mouseover', () => { chestMouseoverFD(0) })
        hotel.addEventListener('mouseover', () => { chestMouseoverFD(1) })
        apartments.addEventListener('mouseover', () => { chestMouseoverFD(2) })
        powerStation.addEventListener('mouseover', () => { chestMouseoverFD(3) })
        gallery.addEventListener('mouseover', () => { chestMouseoverFD(4) })

        office.addEventListener('mouseout', () => { chestMouseoutFD(0) })
        hotel.addEventListener('mouseout', () => { chestMouseoutFD(1) })
        apartments.addEventListener('mouseout', () => { chestMouseoutFD(2) })
        powerStation.addEventListener('mouseout', () => { chestMouseoutFD(3) })
        gallery.addEventListener('mouseout', () => { chestMouseoutFD(4) })
        // #### ↑ #### 穷途箱子选择按钮组 #### ↑ #### 

        // #### ↓ #### 坏血箱子选择按钮组 #### ↓ #### 
        let bb_chest = null;
        const mansion = document.getElementById('mansion');
        const library = document.getElementById('library');
        const dungeon = document.getElementById('dungeon');
        const balcony = document.getElementById('balcony');
        const crypts = document.getElementById('crypts');
        const bbChestButton = [mansion, library, dungeon, balcony, crypts];
        const bbChest = ['mansion', 'library', 'dungeon', 'balcony', 'crypts'];

        mansion.onclick = () => { changeChestFB('mansion', 0) }
        library.onclick = () => { changeChestFB('library', 1) }
        dungeon.onclick = () => { changeChestFB('dungeon', 2) }
        balcony.onclick = () => { changeChestFB('balcony', 3) }
        crypts.onclick = () => { changeChestFB('crypts', 4) }

        mansion.addEventListener('mouseover', () => { chestMouseoverFB(0) })
        library.addEventListener('mouseover', () => { chestMouseoverFB(1) })
        dungeon.addEventListener('mouseover', () => { chestMouseoverFB(2) })
        balcony.addEventListener('mouseover', () => { chestMouseoverFB(3) })
        crypts.addEventListener('mouseover', () => { chestMouseoverFB(4) })

        mansion.addEventListener('mouseout', () => { chestMouseoutFB(0) })
        library.addEventListener('mouseout', () => { chestMouseoutFB(1) })
        dungeon.addEventListener('mouseout', () => { chestMouseoutFB(2) })
        balcony.addEventListener('mouseout', () => { chestMouseoutFB(3) })
        crypts.addEventListener('mouseout', () => { chestMouseoutFB(4) })
        // #### ↑ #### 坏血箱子选择按钮组 #### ↑ #### 

        // #### ↓ #### 地图选择按钮组 #### ↓ #### 
        let map = 'aa';
        let theDifficulty = 0;

        const difficulty = document.getElementById('difficulty');

        const DeadEnd = document.getElementById('DeadEnd');
        const BadBlood = document.getElementById('BadBlood');
        const AlienArcadium = document.getElementById('AlienArcadium');

        AlienArcadium.style.backgroundColor = '#00FFFF80';

        const mapButtonList = [DeadEnd, BadBlood, AlienArcadium];
        const mapNameList = ['de', 'bb', 'aa'];

        DeadEnd.addEventListener('mouseover', () => { onMouseover('map', 0) });
        BadBlood.addEventListener('mouseover', () => { onMouseover('map', 1) });
        AlienArcadium.addEventListener('mouseover', () => { onMouseover('map', 2) });

        DeadEnd.addEventListener('mouseout', () => { onMouseout('map', 0) })
        BadBlood.addEventListener('mouseout', () => { onMouseout('map', 1) })
        AlienArcadium.addEventListener('mouseout', () => { onMouseout('map', 2) })

        DeadEnd.onclick = () => { changeMap('de', 0) };
        BadBlood.onclick = () => { changeMap('bb', 1) };
        AlienArcadium.onclick = () => { changeMap('aa', 2) };
        // #### ↑ #### 地图选择按钮组 #### ↑ #### 

        // #### ↓ #### 难度选择按钮组 #### ↓ #### 
        const normal = document.getElementById('normal');
        const hard = document.getElementById('hard');
        const rip = document.getElementById('rip');

        normal.style.backgroundColor = '#00FFFF80';

        const difficultyList = ['normal', 'hard', 'rip'];
        const difficultyButtonList = [normal, hard, rip];

        normal.onclick = () => { changeDifficulty(0) };
        hard.onclick = () => { changeDifficulty(1) };
        rip.onclick = () => { changeDifficulty(2) };

        normal.addEventListener('mouseover', () => { onMouseover('difficulty', 0) })
        hard.addEventListener('mouseover', () => { onMouseover('difficulty', 1) })
        rip.addEventListener('mouseover', () => { onMouseover('difficulty', 2) })

        normal.addEventListener('mouseout', () => { onMouseout('difficulty', 0) })
        hard.addEventListener('mouseout', () => { onMouseout('difficulty', 1) })
        rip.addEventListener('mouseout', () => { onMouseout('difficulty', 2) })
        // #### ↑ #### 难度选择按钮组 #### ↑ #### 

    </script>
</body>

</html>